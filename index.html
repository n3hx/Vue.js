<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson Booking App</title>
    <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script>
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div id="app">
        <h1>Lesson Booking Application</h1>

        <!-- Form to Add a New Lesson -->
        <div class="lesson-form">
            <h3>Add a New Lesson</h3>
            <form @submit.prevent="addLesson">
                <label for="subject">Subject:</label>
                <input type="text" v-model="newLesson.subject" required>

                <label for="location">Location:</label>
                <input type="text" v-model="newLesson.location" required>

                <label for="price">Price:</label>
                <input type="number" v-model="newLesson.price" required>

                <label for="spaces">Spaces:</label>
                <input type="number" v-model="newLesson.spaces" required>

                <label for="icon">Icon URL:</label>
                <input type="text" v-model="newLesson.icon">

                <button type="submit">Add Lesson</button>
            </form>
        </div>

        <!-- Sort and Filter Section -->
        <div class="filter-section">
            <h3>Sort by</h3>
            <label><input type="radio" v-model="sortKey" value="subject"> Subject</label>
            <label><input type="radio" v-model="sortKey" value="location"> Location</label>
            <label><input type="radio" v-model="sortKey" value="price"> Price</label>
            <label><input type="radio" v-model="sortKey" value="spaces"> Availability</label>

            <h3>Order</h3>
            <label><input type="radio" v-model="sortOrder" value="asc"> Ascending</label>
            <label><input type="radio" v-model="sortOrder" value="desc"> Descending</label>
        </div>

        <!-- Lesson List Section -->
        <div class="lessons">
            <div class="lesson" v-for="lesson in sortedLessons" :key="lesson.id">
                <img :src="lesson.icon" alt="Lesson Icon" v-if="lesson.icon">
                <h2>{{ lesson.subject }}</h2>
                <p>Location: {{ lesson.location }}</p>
                <p>Price: £{{ lesson.price }}</p>
                <p>Spaces: {{ lesson.spaces }}</p>
                <button @click="addToCart(lesson)" :disabled="lesson.spaces === 0">Add to Cart</button>
            </div>
        </div>

        <!-- Shopping Cart Section -->
        <div class="shopping-cart">
            <h3>Shopping Cart</h3>
            <div class="lesson" v-for="item in cart" :key="item.id">
                <input type="checkbox" v-model="item.selected"> 
                <h2>{{ item.subject }}</h2>
                <p>Location: {{ item.location }}</p>
                <p>Price per seat: £{{ item.price }}</p>
                <p>Seats: 
                    <button @click="decreaseQuantity(item)" :disabled="item.quantity === 1">-</button>
                    {{ item.quantity }}
                    <button @click="increaseQuantity(item)">+</button>
                </p>
                <p>Total: £{{ item.price * item.quantity }}</p>
                <button @click="removeFromCart(item)">Remove</button>
            </div>
        </div>

        <!-- Checkout Section -->
        <div class="checkout">
            <h3>Checkout</h3>
            <p>Total Price: £{{ totalPrice }}</p>
            <label for="name">Name:</label>
            <input type="text" v-model="name" placeholder="Enter your name">
            <label for="phone">Phone:</label>
            <input type="text" v-model="phone" placeholder="Enter your phone number">
            <button @click="checkout" :disabled="!validCheckout">Checkout</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
